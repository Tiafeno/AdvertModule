"use strict";register.controller("AdvertFormRegisterCtrl",function(a,b,c,d,e,f){function g(){var b=a.toastPosition;b.bottom&&h.top&&(b.top=!1),b.top&&h.bottom&&(b.bottom=!1),b.right&&h.left&&(b.left=!1),b.left&&h.right&&(b.right=!1),h=angular.extend({},b)}var h={bottom:!0,top:!1,left:!1,right:!0};a.toastPosition=angular.extend({},h),a.getToastPosition=function(){return g(),Object.keys(a.toastPosition).filter(function(b){return a.toastPosition[b]}).join(" ")},a.showActionToast=function(b,c){var d=a.getToastPosition(),f=e.simple().textContent(b).action(c).highlightAction(!0).hideDelay(3e3).position(d);e.show(f).then(function(a){})},a.register={},a.CheckPass=!1,a.activated=!1,a.$watch("register",function(a,b){},!0),a.registerFormSubmit=function(b){if(b){var d=new FormData;d.append("lastname",a.register.lastname),d.append("firstname",a.register.firstname),d.append("SIRET",a.register.SIRET),d.append("society",a.register.society),d.append("adress",a.register.adress),d.append("postal_code",a.register.postal_code),d.append("phone",a.register.phone),d.append("email",a.register.email),d.append("password",a.register.password),d.append("action","action_register_user"),a.activated=!0,f.register_user(d).then(function(b){var d=b.data;a.activated=!1,a.RegisterForm.$setUntouched(),a.RegisterForm.$setPristine(),a.showActionToast(d.data,"OK"),"success"==b.type&&c.setTimeout(function(){c.location.href=d.redirect_url},2500)},function(b){a.activated=!1})}},this.Initialize=function(){},this.Initialize()});